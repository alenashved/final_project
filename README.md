# Итоговый проект программы «Аналитик данных»:
# Исследование локаций для офисов финансовых организаций (ФО): анализ распределения УФР, выявление перспективных локаций и концентрации участников рынка 

Способ реализации проекта

## 1. Постановка задачи
Бизнес-проблема: Определение оптимальных локаций для размещения офисов финансовых организаций (ФО) на основе анализа текущего распределения участников финансового рынка (УФР) и выявления необычных/перспективных локаций.

### Цель: 
Создать аналитический инструмент для визуализации и анализа распределения ФО , выявить закономерности и сформировать рекомендации по выбору локаций.

### Ожидаемый результат:

Интерактивная карта с распределением ФО.

Анализ концентрации организаций по районам

База данных с необычными/перспективными локациями

Рекомендации по выбору мест для новых офисов

## 2. Технологический стек
Язык: Python.
Анализ данных:
pandas (обработка таблиц), numpy (статистика).
geopandas (геоданные), OSMnx (картография из OpenStreetMap).
Визуализация:
matplotlib/seaborn (графики), plotly/folium (интерактивные карты)


## Структура проекта


final_project/

├── data/                     

│   ├── raw_n1/               # Исходные данные

│   │   ├── old_data/         # Данные, по которым не получилось добиться нужного качества данных

│   ├── processed/            # Обработанные данные

│   │   ├── old_data/         # Обработанные данные, по которым не получилось добиться нужного качества 

├── analysis.ipynb/           # Основной анализ

├── notebooks/

│   ├── data_processing.ipynb    # Функции обработки данных

│   ├── visualization.ipynb      # Функции визуализации

│   │   ├── old_data/analysis1.ipynb   # Функции обработки данных, которые не позволили получилось нужного качества данных

│   └──            # Функции анализа

├── reports/

│   ├── figures/              # Графики

│   └── report.md             # Отчет

├── README.md                 # Описание проекта

└── requirements.txt          # Зависимости


## 3. Этапы реализации

### Этап 1. Сбор и предобработка данных
   
Источники данных:
Открытые данные о размещении офисов ФО (ЦБ РФ, сайты финансовых организаций)
API Дадаты (https://dadata.ru/) для получения информации о зарегистрированных организациях
OpenStreetMap для географических данных
Росреестр для информации о зданиях и помещениях
Overpass API (данные OSM о зданиях, инфраструктуре).

1.1 Список УФР (первый вариант источника данных):
Загрузка реестров с ЦБ РФ за период с 01.01.2022 по 01.07.2025 и их обработка:
- выбор организаций, в том числе относящихся к Москве;
- создание единого датасета с полями: "Наименование организации", "Дата регистрации Банком России/внесения в реестр",	"ИНН", "ОГРН", "Адрес организации";
- добавление столбцов в датасет "Дата актуальности" и "вид УФР";
Обработанный свод данных из реестров привел к выводу, что он имеет низкое качество данных, поэтому был использован другой вариант исходных данных - выгрузка из витрины.

1.1 Выгрузка из витрины данных (итоговый вариант источника данных)

1.2 Геоданные:
- Запрос к API Дадаты. Получение координат офисов через геокодирование адресов (Дадата или Яндекс Геокодер).

1.3 Инфраструктура:
OSMnx для поиска бизнес-центров, станций метро, ТЦ в радиусе 1 км от офисов ФО.

Перед проведением этапа 2 выполнены:

- проверка полноты данных (отсутствующие координаты, адреса, ИНН и т. д.)

- добавлены классификаторы (например, разделены КО на банки и НКО, выделены микрофинансовые организации)

- геоданные приведены к единому формату.

### Этап 2. Анализ и визуализация

Анализ концентрации:
Распределение организаций по федеральным округам.
Распределение организаций по регионам (определение ТОП-20).
Распределение организаций по городам (ТОП-15).
Построение тепловой карты (sns.heatmap) по регионам (анализ плотности).
Выявления 20 самых популярных адресов расположения финансовых организаций, их отображение на карте.
Расчет плотности ФО на квадратный километр по районам.
Расчет плотности ФО на 100 тысяч населения по районам.
Определение Топ-10 регионов по плотности финансовых организаций.

Выявление аномалий:
Поиск районов с низкой плотностью ФО, но большой численностью населения.

Интерактивная карта:
Построение тепловых карт (folium.map):
1. Карта плотности финансовых организаций (ФО) по Москве.
2. Карта плотности финансовых организаций (ФО) по регионам РФ.
3. Тепловая карта по регионам РФ с учетом метрик плотности:
- количество организаций на квадратный километр;
- количество организаций на 100 тысяч населения.

### Этап 3. Формирование рекомендаций

Критерии перспективности:
Менее 5 ФО в радиусе 500 м.
Наличие бизнес-центра или ТЦ.
Близость к станции метро (<10 мин пешком).

### Этап 4. Дополнительные улучшения (если получится)
Мachine Learning:
Кластеризация районов (K-means) по признакам: кол-во ФО, инфраструктура

### Этап 5. Документирование
Ноутбук Jupyter с анализом и графиками.
Презентация с ключевыми выводами.
