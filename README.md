# Итоговый проект программы «Аналитик данных»:
## Исследование локаций офисов финансовых организаций (ФО). Анализ адресов зарегистрированных организаций на территории России. Концентрация разных участников финансового рынка, в том числе на территории Москвы

## 1. Цель исследования  
сбор, систематизация и проведение комплексного анализа территориального распределения и концентрации офисов финансовых организаций (банков, страховых компаний, микрофинансовых организаций и др.) по всей территории Российской Федерации. 

### Задачи исследования: 
определение регионов-лидеров по концентрации ФО, идентификация самых популярных адресов регистрации, расчет и сравнение плотности размещения по двум ключевым метрикам, а также визуализация полученных результатов для формирования целостной картины российского финансового ландшафта.

### Ожидаемые результаты:

Итоговым результатом проекта станет __пакет материалов__, включающий:
1.	__Датасет__ с очищенными и геокодированными данными по офисам ФО.
2.	__Набор интерактивных тепловых карт__, визуализирующих плотность расположения организаций.
3.	__Аналитический отчет__, содержащий:
o	Описание методики сбора и обработки данных.
o	Количественные и качественные результаты анализа.
o	Интерпретацию выявленных закономерностей и кластеров.
o	Набор интерактивных карт и аналитических выводов, которые позволят оценить структуру рынка с географической точки зрения и степень обеспеченности регионов финансовой инфраструктурой, выявить наиболее привлекательные и конкурентные локации, а также сформировать рекомендации для стратегического планирования и развития сети офисов

## 2. Технологический стек
Язык: Python.
Анализ данных:
pandas (обработка таблиц), numpy (статистика).
Визуализация:
matplotlib/seaborn (графики), plotly/folium (интерактивные карты)


### Структура проекта


__final_project__/

├── __data/__                     

│   ├── __raw_n1/__               # __Исходные данные__

│   │   ├── old_data/           # Данные, по которым не получилось добиться нужного качества данных

│   ├── __processed/__            # __Обработанные данные__

│   │   ├── old_version/         # Обработанные данные, по которым не получилось добиться нужного качества 

├── __notebooks/__

│   ├── old_version/Первоначальная версия кода (не применима).ipynb   # Функции обработки данных, которые не позволили получилось нужного качества                                                                           данных
│   ├── __ОБРАБОТКА/__    # __Функции обработки данных__

│   │   ├── ОБРАБОТКА/шаг 1. Подготовка данных по головным офисам (уникальные ИНН).ipynb   

│   ├── __ВИЗУАЛИЗАЦИЯ/__      # Функции анализа и визуализации

│   └──  __reports/__         # __Полученные данные__

└── README.md                 # Описание проекта


__final_project__/

├── __data/__                     
│   ├── __raw_n1/__               # __Исходные данные__
│   ├──── old_data/           # Данные, по которым не получилось добиться нужного качества данных
│   ├── __processed/__            # __Обработанные данные__
│   ├──── old_version/         # Обработанные данные, по которым не получилось добиться нужного качества 
├── __notebooks/__
│   ├── old_version/Первоначальная версия кода (не применима).ipynb   # Функции обработки данных, которые не позволили получилось нужного качества   │   ├── __ОБРАБОТКА/__    # __Функции обработки данных__                данных
│   ├──── ОБРАБОТКА/шаг 1. Подготовка данных по головным офисам (уникальные ИНН).ipynb   
│   ├── __ВИЗУАЛИЗАЦИЯ/__      # Функции анализа и визуализации
│   ├──── ВИЗУАЛИЗАЦИЯ/шаг 1. __.ipynb   
│   └──  __reports/__         # __Полученные данные__
└── README.md                 # Описание проекта


## 3. Этапы реализации

### Этап 1. Сбор и обработка данных
   
__Определение источников данных__:
В качестве первоначального источника данных для исследования применялись реестры с сайта Центрального Банка за период с 01.01.2022 по 01.07.2025.
Данные были выгружены и обработаны, обработка включала в себя:
- выбор организаций, в том числе относящихся к Москве;
- создание единого датасета с полями: "Наименование организации", "Дата регистрации Банком России/внесения в реестр", "ИНН", "ОГРН", "Адрес организации";
- добавление столбцов в датасет "Дата актуальности" и "вид УФР".
  Обработка данных из первоначального источника описана в ноутбуке __"Первоначальная версия кода"__.
Подготовленный свод адресов из реестров привел к выводу, что он имеет низкое качество данных, поэтому был использован другой вариант исходных данных - выгрузка из витрины.

Итоговый вариант источника данных - выгрузка из витрины данных отдельно по головным офисам, отдельно по подразделениям.

__Подготовка данных__
- проверка полноты данных (отсутствующие координаты, адреса, ИНН и т. д.)
- добавлены классификаторы (например, разделены КО на банки и НКО, выделены микрофинансовые организации)
  
__Геокодирование данных (Запрос к API)__:
- собраны и очищены данные о географических координатах (адресах) всех офисов ФО через геокодирование адресов (Дадата или Яндекс Геокодер).
- геоданные приведены к единому формату.
- создана структурированная база данных(датасет) с полями: Наименование ФО, ИНН, ОГРН, Тип ФО, Адрес, Широта, Долгота.
- данные очищены от дубликатов и ошибок.
- офисы классифицированы по типам (головные офисы или подразделения, в том числе филиалы, доп.офисы, УТО и другие).

  Сбор и обработка данных в рамках этапа 1 поэтапно описаны в ноутбуках __из папки "ОБРАБОТКА"__. 


### Этап 2. Анализ и визуализация

-	Проведен анализ структуры данных для исследования.
 
-	Анализ концентрации:
Распределение организаций по федеральным округам.
Распределение организаций по регионам (определение ТОП-15).
Распределение организаций по городам (ТОП-15).
Выявление 20 самых популярных адресов расположения ФО.
Выявление самых популярных названий улиц с подсчетом частоты их встречаемости.
  
- Визуализированы результаты анализа с помощью тепловых карт (heatmaps) для наглядного представления распределения финансовых организаций (далее - ФО).

Анализ и визуализация данных в рамках этапа 2 описаны в ноутбуке __"1. Предварительный анализ данных и визуализации" из папки "ВИЗУАЛИЗАЦИЯ"__.

    
### Этап 3. Кластеризация районов (K-means) по признаку: кол-во ФО.
Выявлены ключевые кластеры (зоны концентрации) и "белые пятна" (зоны с низкой представленностью ФО).
Проанализирована плотность их распределения.
   Выполнены:
•	Расчет плотности ФО на 1000 кв км по регионам.
•	Расчет плотности ФО на 100 тысяч населения по регионам.
   Построение тепловых карт (folium.map):
1. Карта плотности финансовых организаций (ФО) по Москве.
2. Карта плотности финансовых организаций (ФО) по территории России.
   Формирование рейтингов регионов по плотности финансовых организаций.
   Анализ и визуализация данных в рамках этапа 3 описаны в ноутбуках __из папки "ВИЗУАЛИЗАЦИЯ"__:
  __•	2. Расчет плотности ФО по Москве и построение тепловой карты__
  __• 3. Расчет плотности ФО по регионам РФ и построение тепловой карты__
  __• 4. Создание таблицы рейтингов ФО с учетом метрик плотности__

  
### Этап 4. Построение отчётов и дашбордов
ПОСТРОЕНИЕ ТЕПЛОВОЙ КАРТЫ (ДАШБОРДА) ПЛОТНОСТИ ФО ПО РЕГИОНАМ РОССИИ В YANDEX DATALENS с учетом метрик плотности:
- количество организаций на квадратный километр;
- количество организаций на 100 тысяч населения.

 Подготовка данных для загрузки в YANDEX DATALENS описана в ноутбуке __"5. Подготовка данных для построения дашборда в Yandex Datalens (тепловой карты с учетом метрик плотности)" из папки "ВИЗУАЛИЗАЦИЯ"__.

 Интерактивная тепловая карта (дашборд) плотности ФО по регионам России доступна для просмотра в Yandex Datalens по ссылке: https://datalens.ru/kkqja0frziw25.


### Этап 5. Интерпретация результатов.

Результаты отражены в __Аналитическом отчете__, содержащем количественные и качественные результаты анализа.


### Этап 6. Документирование
•	Jupyter Notebook (.ipynb) с анализом и графиками.
•	Сопроводительный документ (README), где изложен общий ход работы.
•	Аналитический отчет с результатами анализа и выводами.
